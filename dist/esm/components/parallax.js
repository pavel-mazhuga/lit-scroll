import{g as a}from"../utils-d93a53db.js";export default function({on:l,getCurrentLerpValue:r,viewport:e}){const t=Array.from(document.querySelectorAll("[data-scroll-parallax]")),o=new WeakMap;t.forEach(l=>{const{dataset:t}=l,s=t.scrollParallaxSpeed?parseFloat(t.scrollParallaxSpeed):1,c=t.scrollParallaxMedia,d=t.scrollParallaxStart?parseFloat(t.scrollParallaxStart):a(l,r())-e.height,n=t.scrollParallaxEnd?parseFloat(t.scrollParallaxEnd):a(l,r())+e.height;o.set(l,{start:d,end:n,speed:s,media:c})}),l("scroll",({scrollValue:a})=>{for(let l=0;l<t.length;l++){const r=t[l],s=o.get(r);if(s){const{speed:l,start:t,end:o}=s;a>t&&a<o+e.height&&(r.style.transform=`translate3d(0,${-(a-t-e.height/2)*l}px,0)`)}}})}
