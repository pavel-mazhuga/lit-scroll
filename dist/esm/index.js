function e(e,t,o){return(1-o)*e+o*t}const t={ease:.1};export default function(o={}){const n=document.documentElement,{body:l}=document,i=l.querySelector('[data-lit-scroll="wrapper"]'),s=l.querySelector('[data-lit-scroll="container"]'),r={native:!1};if(!i)throw new Error("[lit-scroll] Wrapper element not found.");if(!s)throw new Error("[lit-scroll] Container element not found.");let c=0;const a=new Set,d=Object.assign(Object.assign({},t),o);let u,f=0,w=0,h=0,m=0;function y(){f=window.pageYOffset||n.scrollTop}function v(){s.style.transform=`translate3d(0,${-1*m}px,0)`}function p(){m=f,v()}function g(){h=s.scrollHeight}function b(){l.style.height=h+"px"}function E(){y(),p(),g(),b()}function O(){g(),b()}function S(){if(w){const t=e(m,w,d.ease);m=t,window.scrollTo(0,t)}else{const t=e(m,f,d.ease);m=t>.5?t:f}Math.abs(m-f)>.5?a.forEach(([e,t])=>{"scroll"===e&&t({docScrollValue:f,scrollValue:m,maxHeight:h})}):w=null,v(),requestAnimationFrame(S)}return y(),b(),g(),n.classList.add("lit-scroll-initialized"),i.style.position="fixed",i.style.width="100%",i.style.height="100%",i.style.top="0",i.style.left="0",i.style.overflow="hidden",window.addEventListener("resize",E),window.addEventListener("scroll",y),window.ResizeObserver&&(u=new ResizeObserver(e=>{e.forEach(O)}),u.observe(s)),p(),c=requestAnimationFrame(S),{destroy:function(){cancelAnimationFrame(c),u&&u.disconnect(),window.removeEventListener("resize",E),window.removeEventListener("scroll",y),a.clear(),l.style.height="",i.style.position="",i.style.width="",i.style.height="",i.style.top="",i.style.left="",i.style.overflow="",n.classList.remove("lit-scroll-initialized")},getCurrentValue:function(){return f},on:(e,t)=>{a.add([e,t])},off:(e,t)=>{a.delete([e,t])},scrollTo:(e,t={})=>{var o,n;const l=Object.assign(Object.assign({},r),t);let i=null;if("number"==typeof e&&(i=e),"string"==typeof e){const t=document.querySelector(e);t&&(i=window.scrollY+t.getBoundingClientRect().top)}return e instanceof Element&&(i=window.scrollY+e.getBoundingClientRect().top),i&&(l.native&&(null===(n=null===(o=window.CSS)||void 0===o?void 0:o.supports)||void 0===n?void 0:n.call(o,"scroll-behavior","smooth"))?window.scrollTo({top:i,behavior:"smooth"}):w=i),i}}}
